<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

</head>

<body>
    <div id="mario-chat">
        <div id="chat-window">
            <div id="output">
    
            </div>
        </div>
        
     
         
        <form action="/chatbot" method="POST">
        <input type="text" id="handle" name="name" placeholder="Your Name">
            <input type="text" id="message" name="question" placeholder="Message">
                <button onsubmit="return false"  id="send"  type="submit" >Send</button>
            </form>
        </div>


     


<script >

  let output = document.getElementById('output')

    let button = document.getElementById("send")
    button.addEventListener("click",()=>{
      
           output.innerHTML+='<p> <strong>'+document.getElementById("handle").value+': </strong> '+  document.getElementById("message").value+'</p>'
    localStorage.setItem("html", output.innerHTML)
  
      
        })
  
      
        var clientGameState = "<%= data %>";
        if (clientGameState != ""){
      
      output.innerHTML = localStorage.getItem("html") + '<p> <strong>'+"AI"+': </strong> '+clientGameState+'</p>'  
      console.log(output.innerHTML) 
        } 
  localStorage.setItem("html", output.innerHTML)
  console.log(localStorage.getItem("html")) 


</script>

       


</body>
<style>
 body{
    font-family: 'Nunito';
}

h2{
    font-size: 18px;
    padding: 10px 20px;
    color: #57d4d8;
}

#mario-chat{
    max-width: 600px;
    margin: 30px auto;
    border: 1px solid rgb(218, 216, 216);
    box-shadow: 1px 3px 5px rgba(0,0,0,0.05);
    border-radius: 2px;
}

#chat-window{
    height: 400px;
    overflow: auto;
    background: #eaecf170;
}

#output p{
    padding: 14px 0px;
    margin: 0 20px;
    border-bottom: 1px solid #e9e9e9;
    color: #555;
}

#feedback p{
    color: #aaa;
    padding: 14px 0px;
    margin: 0 20px;
}

#output strong{
    color: #575ed8;
}

label{
    box-sizing: border-box;
    display: block;
    padding: 10px 20px;
}

input{
    padding: 10px 20px;
    box-sizing: border-box;
    background: #eee;
    border: 0;
    display: block;
    width: 100%;
    background: #fff;
    border-bottom: 1px solid #eee;
    font-family: Nunito;
    font-size: 16px;
}

button{
    background: #e45238;
    color: #fff;
    font-size: 18px;
    border: 0;
    padding: 12px 0;
    width: 100%;
    border-radius: 0 0 2px 2px;
}
</style>
</html>
